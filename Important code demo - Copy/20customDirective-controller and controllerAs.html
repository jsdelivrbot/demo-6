<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>customDirective-controller and controllerAs</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
</head>
<body>
<div ng-app="myApp">
    <div ng-controller="myCtrl">
        <div book-list>

        </div>
  </div>
</div>
<script>
    angular.module('myApp', [])
        .directive('bookList', function(){
            return{
                restrict:'ECAM',
                controller:function($scope){
                    console.log($scope);
                    $scope.books=[
                        {name:'HTML'},
                        {name:'CSS'},
                        {name:'Javascipt'}
                    ];
                    $scope.addBook = function(){
                        alert('add book');
                    }
                },
                //controllerAs: 'bookListController',
                template:'<ul><li ng-repeat="book in books">{{book.name}}</li></ul>',
                replace:true,
                scope:true,
                link:function(scope, iElement, iAttrs, bookListController){
                    console.log(bookListController+'sasdasds');
                    iElement.on("click",scope.addBook);
                }
            }
        })
       .controller('myCtrl',['$scope',function($scope){
            console.log($scope);
            $scope.books=[
                {
                    name:'HTML6'
                },
                {
                    name:'CSS'
                },
                {
                    name:'Javascript'
                }
                ];
        }])
</script>
</body>
</html>